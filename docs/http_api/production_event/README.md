# Production Event

## Adding a Production Event
This endpoint allows the current user to add a new Production Event in his company. [This route is authenticated](https://github.com/vision-i40/company_service/tree/master/docs/authentication#authenticated-endpoints).

| **Method**            | v1/companies/1/production_orders/1/production_events/     |
|-----------------------|:---------------------:|
| **Resources**         | POST                   |
| **Request Payload**   | `{"production_line_id": 1,"production_order_id": 1,"event_datetime": 2019-09-25T14:21:34,"quantity": 100,"event_type": Waste}` |
| **Request Response**  | `"id": 1,"product": {"id": 1,"company_id": 1,"name": "product-1","units_of_measurement": [{"id": 1,"name": "Meter","is_default": true,"conversion_factor": 1.0,"created": "2019-09-25T12:04:43.680933Z","modified": "2019-09-25T12:04:43.680933Z"}],"created": "2019-09-25T12:02:25.931387Z","modified": "2019-09-25T12:02:25.931387Z"},"production_line_id": 1,"production_order": {"id": 1,"product": {"id": 1,"company_id": 1,"name": "product-1","units_of_measurement": [{"id": 1,"name": "Meter","is_default": true,"conversion_factor": 1.0,"created": "2019-09-25T12:04:43.680933Z","modified": "2019-09-25T12:04:43.680933Z"}],"created": "2019-09-25T12:02:25.931387Z","modified": "2019-09-25T12:02:25.931387Z"},"product_id": 1,"production_line_id": 1,"code": "16","state": "Released","production_quantity": null,"waste_quantity": 100,"rework_quantity": null,"created": "2019-09-25T12:08:52.321058Z","modified": "2019-09-25T12:29:14.832694Z"},"production_order_id": 1,"unit_of_measurement": null,"event_datetime": "2019-09-25T14:21:34Z","quantity": 100,"event_type": "Waste","waste_code": {"id": 1,"company_id": 1,"name": "waste-code 1","code_group": {"id": 2,"company_id": 1,"name": "code group 2","group_type": "WasteCode","created": "2019-09-25T12:28:31.854536Z","modified": "2019-09-25T12:28:31.854536Z"},"created": "2019-09-25T12:28:33.257915Z","modified": "2019-09-25T12:28:33.257915Z"},"rework_code": {"id": 1,"company_id": 1,"name": "rework-1","code_group": {"id": 1,"company_id": 1,"name": "code group 1","group_type": "ReworkCode","created": "2019-09-25T12:24:15.822692Z","modified": "2019-09-25T12:24:15.822692Z"},"created": "2019-09-25T12:24:17.825190Z","modified": "2019-09-25T12:24:17.825190Z"},"created": "2019-09-25T12:24:21.099839Z","modified": "2019-09-25T13:28:06.738700Z"}` |


## Listing the Production Events
This endpoint allows the current user to list the production events of his company. [This route is authenticated](https://github.com/vision-i40/company_service/tree/master/docs/authentication#authenticated-endpoints).

| **Method**            | v1/companies/1/production_orders/1/production_events/     |
|-----------------------|:---------------------:|
| **Resources**         | GET                   |
| **Request Response**  | `{ "count": 1,"next": null,"previous": null,"results": [{"id": 1,"product": {"id": 1,"company_id": 1,"name": "product-1","units_of_measurement": [{"id": 1,"name": "Meter","is_default": true,"conversion_factor": 1.0,"created": "2019-09-25T12:04:43.680933Z","modified": "2019-09-25T12:04:43.680933Z"}],"created": "2019-09-25T12:02:25.931387Z","modified": "2019-09-25T12:02:25.931387Z"},"production_line_id": 1,"production_order": {"id": 1,"product": {"id": 1,"company_id": 1,"name": "product-1","units_of_measurement": [{"id": 1,"name": "Meter","is_default": true,"conversion_factor": 1.0,"created": "2019-09-25T12:04:43.680933Z","modified": "2019-09-25T12:04:43.680933Z"}],"created": "2019-09-25T12:02:25.931387Z","modified": "2019-09-25T12:02:25.931387Z"},"product_id": 1,"production_line_id": 1,"code": "16","state": "Released","production_quantity": null,"waste_quantity": 100,"rework_quantity": null,"created": "2019-09-25T12:08:52.321058Z","modified": "2019-09-25T12:29:14.832694Z"},"production_order_id": 1,"unit_of_measurement": null,"event_datetime": "2019-09-25T14:21:34Z","quantity": 100,"event_type": "Waste","waste_code": {"id": 1,"company_id": 1,"name": "waste-code 1","code_group": {"id": 2,"company_id": 1,"name": "code group 2","group_type": "WasteCode","created": "2019-09-25T12:28:31.854536Z","modified": "2019-09-25T12:28:31.854536Z"},"created": "2019-09-25T12:28:33.257915Z","modified": "2019-09-25T12:28:33.257915Z"},"rework_code": {"id": 1,"company_id": 1,"name": "rework-1","code_group": {"id": 1,"company_id": 1,"name": "code group 1","group_type": "ReworkCode","created": "2019-09-25T12:24:15.822692Z","modified": "2019-09-25T12:24:15.822692Z"},"created": "2019-09-25T12:24:17.825190Z","modified": "2019-09-25T12:24:17.825190Z"},"created": "2019-09-25T12:24:21.099839Z","modified": "2019-09-25T13:28:06.738700Z"}]}` |


## Retrieving a Production Event
This endpoint allows the current user to retrieve a Production Event of his company. [This route is authenticated](https://github.com/vision-i40/company_service/tree/master/docs/authentication#authenticated-endpoints).

| **Method**            | v1/companies/1/production_orders/1/production_events/1/     |
|-----------------------|:---------------------:|
| **Resources**         | GET                   |
| **Request Response**  | `{ "id": 1,"product": {"id": 1,"company_id": 1,"name": "product-1","units_of_measurement": [{"id": 1,"name": "Meter","is_default": true,"conversion_factor": 1.0,"created": "2019-09-25T12:04:43.680933Z","modified": "2019-09-25T12:04:43.680933Z"}],"created": "2019-09-25T12:02:25.931387Z","modified": "2019-09-25T12:02:25.931387Z"},"production_line_id": 1,"production_order": {"id": 1,"product": {"id": 1,"company_id": 1,"name": "product-1","units_of_measurement": [{"id": 1,"name": "Meter","is_default": true,"conversion_factor": 1.0,"created": "2019-09-25T12:04:43.680933Z","modified": "2019-09-25T12:04:43.680933Z"}],"created": "2019-09-25T12:02:25.931387Z","modified": "2019-09-25T12:02:25.931387Z"},"product_id": 1,"production_line_id": 1,"code": "16","state": "Released","production_quantity": null,"waste_quantity": 100,"rework_quantity": null,"created": "2019-09-25T12:08:52.321058Z","modified": "2019-09-25T12:29:14.832694Z"},"production_order_id": 1,"unit_of_measurement": null,"event_datetime": "2019-09-25T14:21:34Z","quantity": 100,"event_type": "Waste","waste_code": {"id": 1,"company_id": 1,"name": "waste-code 1","code_group": {"id": 2,"company_id": 1,"name": "code group 2","group_type": "WasteCode","created": "2019-09-25T12:28:31.854536Z","modified": "2019-09-25T12:28:31.854536Z"},"created": "2019-09-25T12:28:33.257915Z","modified": "2019-09-25T12:28:33.257915Z"},"rework_code": {"id": 1,"company_id": 1,"name": "rework-1","code_group": {"id": 1,"company_id": 1,"name": "code group 1","group_type": "ReworkCode","created": "2019-09-25T12:24:15.822692Z","modified": "2019-09-25T12:24:15.822692Z"},"created": "2019-09-25T12:24:17.825190Z","modified": "2019-09-25T12:24:17.825190Z"},"created": "2019-09-25T12:24:21.099839Z","modified": "2019-09-25T13:28:06.738700Z"}` |


## Updating a Production Event
This endpoint allows the current user to update a Production Event of his company. [This route is authenticated](https://github.com/vision-i40/company_service/tree/master/docs/authentication#authenticated-endpoints).

| **Method**            | v1/companies/1/production_orders/1/production_events/1/     |
|-----------------------|:---------------------:|
| **Resources**         | PUT                   |
| **Request Payload**   | `{"production_line_id": 2,"production_order_id": 2,"event_datetime": 2019-04-22T14:22:34,"quantity": 50,"event_type": Rework}` |
| **Request Response**  | `{"id": 1,"product": {"id": 1,"company_id": 1,"name": "product-1","units_of_measurement": [{"id": 1,"name": "Meter","is_default": true,"conversion_factor": 1.0,"created": "2019-09-25T12:04:43.680933Z","modified": "2019-09-25T12:04:43.680933Z"}],"created": "2019-09-25T12:02:25.931387Z","modified": "2019-09-25T12:02:25.931387Z"},"production_line_id": 2,"production_order": {"id": 2,"product": {"id": 1,"company_id": 1,"name": "product-1","units_of_measurement": [{"id": 1,"name": "Meter","is_default": true,"conversion_factor": 1.0,"created": "2019-09-25T12:04:43.680933Z","modified": "2019-09-25T12:04:43.680933Z"}],"created": "2019-09-25T12:02:25.931387Z","modified": "2019-09-25T12:02:25.931387Z"},"product_id": 1,"production_line_id": 2,"code": "16","state": "Released","production_quantity": null,"waste_quantity": 10,"rework_quantity": 10,"created": "2019-09-25T12:08:52.321058Z","modified": "2019-09-25T12:29:14.832694Z"},"production_order_id": 2,"unit_of_measurement": null,"event_datetime": 2019-04-22T14:22:34Z","quantity": 50,"event_type": "Waste","waste_code": {"id": 1,"company_id": 1,"name": "waste-code 1","code_group": {"id": 2,"company_id": 1,"name": "code group 2","group_type": "WasteCode","created": "2019-09-25T12:28:31.854536Z","modified": "2019-09-25T12:28:31.854536Z"},"created": "2019-09-25T12:28:33.257915Z","modified": "2019-09-25T12:28:33.257915Z"},"rework_code": {"id": 1,"company_id": 1,"name": "rework-1","code_group": {"id": 1,"company_id": 1,"name": "code group 1","group_type": "ReworkCode","created": "2019-09-25T12:24:15.822692Z","modified": "2019-09-25T12:24:15.822692Z"},"created": "2019-09-25T12:24:17.825190Z","modified": "2019-09-25T12:24:17.825190Z"},"created": "2019-09-25T12:24:21.099839Z","modified": "2019-09-25T13:28:06.738700}` |

## Deleting a Production Event
This endpoint allows the current user to delete a Production Event of his company. [This route is authenticated](https://github.com/vision-i40/company_service/tree/master/docs/authentication#authenticated-endpoints).

| **Method**            | v1/companies/1/production_orders/1/production_events/1/     |
|-----------------------|:---------------------:|
| **Resources**         | DELETE                   |
