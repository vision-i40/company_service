# Availability

## Filtering by production line
This endpoint allows the current user to filter the availability by the production line. [This route is authenticated](https://github.com/vision-i40/company_service/tree/master/docs/authentication#authenticated-endpoints).

| **Method**            | v1/companies/1/availability/?production_line_id=1&start_time=&end_time=    |
|-----------------------|:---------------------:|
| **Request Response**  | `{"count": 1,"next": null,"previous": null,"results": [{"id": 3,"production_line": {"id": 1,"company_id": 1,"name": "production-line-1","is_active": true,"discount_rework": true,"discount_waste": true,"stop_on_production_absence": true,"time_to_consider_absence": 10500,"reset_production_changing_order": false,"micro_stop_seconds": 20000,"in_progress_order": {"id": 1,"product": {"id": 1,"company_id": 1,"name": "product-1","units_of_measurement": [{"id": 2,"name": "unit 1","is_default": false,"conversion_factor": 2.0,"created": "2019-10-28T15:17:51.969389Z","modified": "2019-10-28T15:17:51.969389Z"},{"id": 1,"name": "meter","is_default": true,"conversion_factor": 1.0,"created": "2019-10-28T15:16:10.830562Z","modified": "2019-10-28T15:16:10.830562Z"}],"created": "2019-10-28T15:15:47.808945Z","modified": "2019-10-28T15:15:47.808945Z"},"product_id": 1,"production_line_id": 1,"code": "1234AB","state": "InProgress","production_quantity": null,"waste_quantity": null,"rework_quantity": null,"quantity": 1000,"created": "2019-10-28T19:11:33.692378Z","modified": "2019-10-28T19:11:33.692378Z"},"current_turn": null,"created": "2019-10-24T12:35:12.095341Z","modified": "2019-10-28T19:15:52.458698Z"},"start_time": "2019-10-20T21:29:13Z","end_time": "2019-10-20T22:39:13Z","stop_code": null,"state": "Up"}` |

## Filtering by start time
This endpoint allows the current user to filter the availability by the time it started. [This route is authenticated](https://github.com/vision-i40/company_service/tree/master/docs/authentication#authenticated-endpoints).

| **Method**            | v1/companies/1/availability/?production_line_id=&start_time=2019-10-20+14%3A29%3A13&end_time=   |
|-----------------------|:---------------------:|
| **Request Response**  | `{"count": 1,"next": null,"previous": null,"results": [{"id": 4,"production_line": {"id": 1,"company_id": 1,"name": "production-line-1","is_active": true,"discount_rework": true,"discount_waste": true,"stop_on_production_absence": true,"time_to_consider_absence": 10500,"reset_production_changing_order": false,"micro_stop_seconds": 20000,"in_progress_order": {"id": 1,"product": {"id": 1,"company_id": 1,"name": "product-1","units_of_measurement": [{"id": 2,"name": "unit 1","is_default": false,"conversion_factor": 2.0,"created": "2019-10-28T15:17:51.969389Z","modified": "2019-10-28T15:17:51.969389Z"},{"id": 1,"name": "meter","is_default": true,"conversion_factor": 1.0,"created": "2019-10-28T15:16:10.830562Z","modified": "2019-10-28T15:16:10.830562Z"}],"created": "2019-10-28T15:15:47.808945Z","modified": "2019-10-28T15:15:47.808945Z"},"product_id": 1,"production_line_id": 1,"code": "1234AB","state": "InProgress","production_quantity": null,"waste_quantity": null,"rework_quantity": null,"quantity": 1000,"created": "2019-10-28T19:11:33.692378Z","modified": "2019-10-28T19:11:33.692378Z"},"current_turn": null,"created": "2019-10-24T12:35:12.095341Z","modified": "2019-10-28T19:15:52.458698Z"},"start_time": "2019-10-20T14:29:13Z","end_time": "2019-10-20T15:29:13Z","stop_code": null,"state": "Up"}]}` |

## Filtering by end time
This endpoint allows the current user to filter the availability by the time it ended. [This route is authenticated](https://github.com/vision-i40/company_service/tree/master/docs/authentication#authenticated-endpoints).

| **Method**            | v1/companies/1/availability/?production_line_id=&start_time=&end_time=2019-10-20+22%3A39%3A13    |
|-----------------------|:---------------------:|
| **Request Response**  | `{"count": 1,"next": null,"previous": null,"results": [{"id": 3,"production_line": {"id": 1,"company_id": 1,"name": "production-line-1","is_active": true,"discount_rework": true,"discount_waste": true,"stop_on_production_absence": true,"time_to_consider_absence": 10500,"reset_production_changing_order": false,"micro_stop_seconds": 20000,"in_progress_order": {"id": 1,"product": {"id": 1,"company_id": 1,"name": "product-1","units_of_measurement": [{"id": 2,"name": "unit 1","is_default": false,"conversion_factor": 2.0,"created": "2019-10-28T15:17:51.969389Z","modified": "2019-10-28T15:17:51.969389Z"},{"id": 1,"name": "meter","is_default": true,"conversion_factor": 1.0,"created": "2019-10-28T15:16:10.830562Z","modified": "2019-10-28T15:16:10.830562Z"}],"created": "2019-10-28T15:15:47.808945Z","modified": "2019-10-28T15:15:47.808945Z"},"product_id": 1,"production_line_id": 1,"code": "1234AB","state": "InProgress","production_quantity": null,"waste_quantity": null,"rework_quantity": null,"quantity": 1000,"created": "2019-10-28T19:11:33.692378Z","modified": "2019-10-28T19:11:33.692378Z"},"current_turn": null,"created": "2019-10-24T12:35:12.095341Z","modified": "2019-10-28T19:15:52.458698Z"},"start_time": "2019-10-20T21:29:13Z","end_time": "2019-10-20T22:39:13Z","stop_code": null,"state": "Up"}]}` |